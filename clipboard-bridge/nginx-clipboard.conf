# nginx-clipboard.conf â€” Reverse proxy for the clipboard bridge HTTP server.
#
# This exposes the container-internal clipboard server (127.0.0.1:9123) at
# the public /clipboard/ path so the browser-side JS poller can reach it.
# Also serves the poller JS as a static file (needed for CSP compliance
# when code-server is accessed directly at /code-server/).
#
# Install to: /opt/gem/nginx/clipboard.conf

location /clipboard/ {
    proxy_pass http://127.0.0.1:9123/;
    proxy_http_version 1.1;
}

location = /clipboard-poller.js {
    alias /home/gem/clipboard-poller.js;
    default_type application/javascript;
}
