# .tmux.conf â€” tmux configuration with clipboard bridge support
#
# This config enables vi-style copy mode and wires up the clipboard bridge
# so that text copied in tmux reaches the host system clipboard.

# Use vi keys in copy mode
setw -g mode-keys vi

# Enable mouse support (pane selection, resizing, and scrollback)
set -g mouse on

# Enable OSC 52 clipboard integration (belt-and-suspenders: works if the
# terminal emulator natively supports OSC 52)
set -s set-clipboard on

# Tell tmux that the outer terminal supports OSC 52 clipboard (Ms capability).
# This is needed because xterm-256color's terminfo doesn't include the Ms
# capability by default, so tmux won't send OSC 52 without this override.
set -as terminal-overrides ",xterm*:Ms=\E]52;%p1%s;%p2%s\007"

# Copy-mode bindings: pipe selected text to ~/clip (the clipboard bridge script)
# AND update the tmux paste buffer. The ~/clip script POSTs the text to the
# clipboard HTTP server, which the browser polls and writes to system clipboard.
bind-key -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "~/clip"
bind-key -T copy-mode-vi Enter send-keys -X copy-pipe-and-cancel "~/clip"
